# Healthcare Management System
# Demonstrates: Complex medical domain, multiple relationships, various data types

project:
  name: HealthcareAPI
  basePackage: com.healthcare.system
  database:
    type: POSTGRESQL
    name: healthcare_db
    host: localhost
    port: 5432
    username: healthcare_user
    password: healthcare_pass

# Medical Specialties lookup table
entities:
  - name: MedicalSpecialties
    tableName: medical_specialties
    fields:
      - name: specialtyName
        type: VARCHAR
        length: 100
        constraints:
          - type: NOT_NULL
          - type: UNIQUE
      - name: description
        type: TEXT
      - name: requiresCertification
        type: BOOLEAN
        defaultValue: "false"

  # Doctors/Physicians
  - name: Doctors
    tableName: doctors
    fields:
      - name: firstName
        type: VARCHAR
        length: 50
        constraints:
          - type: NOT_NULL
      - name: lastName
        type: VARCHAR
        length: 50
        constraints:
          - type: NOT_NULL
      - name: licenseNumber
        type: VARCHAR
        length: 20
        constraints:
          - type: NOT_NULL
          - type: UNIQUE
      - name: email
        type: VARCHAR
        length: 100
        constraints:
          - type: NOT_NULL
      - name: phone
        type: VARCHAR
        length: 20
      - name: hireDate
        type: DATE
        constraints:
          - type: NOT_NULL
      - name: isActive
        type: BOOLEAN
        defaultValue: "true"
    relationships:
      - type: MANY_TO_ONE
        targetEntity: medical_specialties
        joinColumn: specialty_id

  # Patients
  - name: Patients
    tableName: patients
    fields:
      - name: firstName
        type: VARCHAR
        length: 50
        constraints:
          - type: NOT_NULL
      - name: lastName
        type: VARCHAR
        length: 50
        constraints:
          - type: NOT_NULL
      - name: dateOfBirth
        type: DATE
        constraints:
          - type: NOT_NULL
      - name: gender
        type: VARCHAR
        length: 10
      - name: bloodType
        type: VARCHAR
        length: 5
      - name: email
        type: VARCHAR
        length: 100
      - name: phone
        type: VARCHAR
        length: 20
        constraints:
          - type: NOT_NULL
      - name: address
        type: VARCHAR
        length: 200
      - name: emergencyContact
        type: VARCHAR
        length: 100
      - name: emergencyPhone
        type: VARCHAR
        length: 20
      - name: insuranceNumber
        type: VARCHAR
        length: 50

  # Appointments
  - name: Appointments
    tableName: appointments
    fields:
      - name: appointmentDate
        type: TIMESTAMP
        constraints:
          - type: NOT_NULL
      - name: duration
        type: INTEGER
        defaultValue: "30"
      - name: status
        type: VARCHAR
        length: 20
        defaultValue: "'SCHEDULED'"
      - name: notes
        type: TEXT
      - name: cancellationReason
        type: TEXT
    relationships:
      - type: MANY_TO_ONE
        targetEntity: patients
        joinColumn: patient_id
        constraints:
          - type: NOT_NULL
      - type: MANY_TO_ONE
        targetEntity: doctors
        joinColumn: doctor_id
        constraints:
          - type: NOT_NULL

  # Medical Records
  - name: MedicalRecords
    tableName: medical_records
    fields:
      - name: recordDate
        type: TIMESTAMP
        constraints:
          - type: NOT_NULL
      - name: diagnosis
        type: TEXT
        constraints:
          - type: NOT_NULL
      - name: symptoms
        type: TEXT
      - name: treatment
        type: TEXT
      - name: notes
        type: TEXT
      - name: followUpRequired
        type: BOOLEAN
        defaultValue: "false"
      - name: followUpDate
        type: DATE
    relationships:
      - type: MANY_TO_ONE
        targetEntity: patients
        joinColumn: patient_id
        constraints:
          - type: NOT_NULL
      - type: MANY_TO_ONE
        targetEntity: doctors
        joinColumn: doctor_id
        constraints:
          - type: NOT_NULL
      - type: MANY_TO_ONE
        targetEntity: appointments
        joinColumn: appointment_id

  # Prescriptions
  - name: Prescriptions
    tableName: prescriptions
    fields:
      - name: medicationName
        type: VARCHAR
        length: 100
        constraints:
          - type: NOT_NULL
      - name: dosage
        type: VARCHAR
        length: 50
        constraints:
          - type: NOT_NULL
      - name: frequency
        type: VARCHAR
        length: 50
        constraints:
          - type: NOT_NULL
      - name: startDate
        type: DATE
        constraints:
          - type: NOT_NULL
      - name: endDate
        type: DATE
      - name: instructions
        type: TEXT
      - name: refillsAllowed
        type: INTEGER
        defaultValue: "0"
      - name: isActive
        type: BOOLEAN
        defaultValue: "true"
    relationships:
      - type: MANY_TO_ONE
        targetEntity: patients
        joinColumn: patient_id
        constraints:
          - type: NOT_NULL
      - type: MANY_TO_ONE
        targetEntity: doctors
        joinColumn: prescribed_by
        constraints:
          - type: NOT_NULL
      - type: MANY_TO_ONE
        targetEntity: medical_records
        joinColumn: medical_record_id
